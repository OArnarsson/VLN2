@model Coder.Models.ViewModels.UserViewModel

@{
    ViewBag.Title = "Details";

    var enumList = new List<SelectListItem>();
    foreach (var value in Enum.GetValues(typeof(Coder.Models.Entity.CoderRole)))
    {
        enumList.Add(new SelectListItem
        {
            Text = value.ToString(),
            Value = ((int)value).ToString()
        });
    }
}

<h2>Details</h2>

<div class="col-lg-8">
    <dd>
        <h4>User - @Model.Email</h4>
        <hr />
        <dl class="dl-horizontal">
            <dt>
                @Html.DisplayNameFor(model => model.Name)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Name)
            </dd>
    
            <dt>
                @Html.DisplayNameFor(model => model.Email)
            </dt>
    
            <dd>
                @Html.DisplayFor(model => model.Email)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Password)
            </dt>

            <dd>
                (ChangeButtonPlaceholder)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.UserId)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.UserId)
            </dd>
        </dl>

        <p>
            @Html.ActionLink("Edit", "Edit", new { id = Model.UserId }) |
            @Html.ActionLink("Back to List", "Index")
        </p>
</div>

<div class="col-lg-4 projectBox">
    <table class="table sideTable coderTable">
        <caption>Courses</caption>
        <thead>
            <tr>
                <td>Course</td>
                <td>Role</td>
            </tr>
        </thead>
        <tbody>
            @foreach (var userCourse in Model.UserCourses)
            {       
    enumList.ForEach(x => x.Selected = Model.UserCourses.Any(j => j.CourseId == userCourse.CourseId) &&
                                           (int.Parse(x.Value) == ((int)Model.UserCourses.FirstOrDefault(j => j.CourseId == userCourse.CourseId).CoderRole)));
                <tr>
                    <td>@userCourse.Course.Title</td>
                    <td>@userCourse.CoderRole</td>
                </tr>
            }
        </tbody>
    </table>
</div>

<div class="row">
    <table class="table coderTable">
        <caption>Recent submissions</caption>
        <thead>
            <tr>
                <td>Submission</td>
                <td>Project</td>
                <td>Task</td>
                <td>Status</td>
            </tr>
        </thead>
        <!--This body only contains dummy info for visuals-->
        <tbody>
            @foreach (var userCourse in Model.UserCourses)
            {
                enumList.ForEach(x => x.Selected = Model.UserCourses.Any(j => j.CourseId == userCourse.CourseId) &&
                                                       (int.Parse(x.Value) == ((int)Model.UserCourses.FirstOrDefault(j => j.CourseId == userCourse.CourseId).CoderRole)));
                <tr>
                    <td>@userCourse.Course.Title</td>
                    <td>@userCourse.CoderRole</td>
                    <td>@userCourse.Course.Projects.Count</td>
                    <td>@userCourse.Course.Start</td>
                </tr>
            }
        </tbody>
    </table>
</div>
