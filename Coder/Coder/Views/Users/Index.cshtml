@model IEnumerable<Coder.Models.ApplicationUser>

@{
    ViewBag.Title = "Users";
}

@section heading {
    <h1>Users</h1>
}

<div class="whiteBox">
    @if (User.IsInRole("Administrator"))
    {
        <a class="btn btn-default" href=@Url.Action("Create", "Users")><i class="fa fa-edit"></i>Create a new user</a>
    }
    <table class="order-column stripe coder-table coder-datatable">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Email)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.PhoneNumber)
                </th>
                <th>
                </th>
            </tr>
        </thead>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.ActionLink(item.Name, "Details", new { id = item.Id })
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Email)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PhoneNumber)
                </td>
                <td>
                    @if (User.IsInRole("Administrator"))
                    {
                        <a href=@Url.Action("Edit", "Users", new { id = item.Id })><i class="fa fa-pencil"></i></a>
                    }

                    @if (User.IsInRole("Administrator"))
                    {
                        <a href=@Url.Action("Delete", "Users", new { id = item.Id })><i class="fa fa-trash"></i></a>
                    }
                </td>

            </tr>
        }

    </table>
</div>
